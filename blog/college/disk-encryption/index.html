<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=UTF-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1,user-scalable=no" name=viewport><meta content="index, follow" name=robots><title>Disk encryption using LUKS</title><meta content="Disk encryption using LUKS" name=title><meta content=Nishant name=author><meta content=website property=og:type><meta content=https://nishantjoshi00.github.io/blog/college/disk-encryption/ property=og:url><meta property=og:site_name><meta content="Disk encryption using LUKS" property=og:title><meta content=https://nishantjoshi00.github.io/favicon.ico property=og:image><meta content=summary_large_image property=twitter:card><meta content=https://nishantjoshi00.github.io/blog/college/disk-encryption/ property=twitter:url><meta content="Disk encryption using LUKS" property=twitter:title><meta content=https://nishantjoshi00.github.io/favicon.ico property=twitter:image><link href=https://nishantjoshi00.github.io/blog/college/disk-encryption/ rel=canonical><link rel="shortcut icon" href=https://nishantjoshi00.github.io/favicon.ico type=image/x-icon><link href=https://nishantjoshi00.github.io/css/style.css rel=stylesheet><script defer src=https://nishantjoshi00.github.io/js/script.js></script><body><div class=wrapper><header><nav class=navBar><a href=/> /home/ </a><a href=/blog> /blog/ </a><div class=themeSwitch><button class="themeButton light" onclick="setTheme('light')" title="Light mode"><svg class="icons icons__background"><use href=https://nishantjoshi00.github.io/icons.svg#lightMode></use></svg></button><button class="themeButton dark" onclick="setTheme('dark')" title="Dark mode"><svg class="icons icons__background"><use href=https://nishantjoshi00.github.io/icons.svg#darkMode></use></svg></button></div></nav></header><main><div><a href=..>..</a>/<span class=metaData>disk-encryption</span></div><time datetime=2020-05-05>Published on: <span class=metaData>2020-05-05</span></time><h1>Disk encryption using LUKS</h1><h1 id=disk-encryption>Disk Encryption</h1><p>Given below is a method of encrypting your hard-drive partition (SSD/HDD) using luks encryption method, But this file system can only be recognised in a Linux Box and thus can only be decrypted in Linux. As the partition format is unrecognized in windows filesystem.<h2 id=formatting-the-partition>Formatting the Partition</h2><blockquote><p>Here we are formatting the partition in <strong>LUKS</strong> (<strong>L</strong>inux <strong>U</strong>nified <strong>K</strong>ey <strong>S</strong>etup)</blockquote><p>Here we use <code>luksFormat</code> to create a encryption layer. On the partition. By doing so the partition will be completed formated so make sure it is a empty partition.<pre class=language-bash data-lang=bash style=background:#282828;color:#fdf4c1aa><code class=language-bash data-lang=bash><span style=color:#fdf4c1>$ cryptsetup luksFormat /dev/sdxY
</span></code></pre><p>Here x is a alphabet, and Y is a number, which reperesent the block file for the Yth partition of disk x.<hr><h2 id=initialise-luks-devices>Initialise LUKS devices</h2><p>Here we use the <code>luksOpen</code> which temporarily disables the encryption layer.<p>This devices will then be available in /dev/mapper/<name> <p>here <name> is a arbitrary value used to identify the block file. <pre class=language-bash data-lang=bash style=background:#282828;color:#fdf4c1aa><code class=language-bash data-lang=bash><span style=color:#fdf4c1>$ cryptsetup luksOpen /dev/sdxY </span><span style=color:#fe8019><</span><span style=color:#fdf4c1>name</span><span style=color:#fe8019>>
</span></code></pre> <hr> <h2 id=format-this-decrypted-device>Format this decrypted device</h2> <p>As <strong>luks</strong> acts as an encrypted wrapper over the underlying partition. we can use any <code>mkfs</code> cmd to format it. We can then normally mount it. This is done only after unlocking the encryption layer.</p> <hr> <h2 id=mounting-the-device>Mounting the Device</h2> <blockquote><p>Sometimes connecting the device with a encrypted partition, automatically provokes a initialising and mounting procedure and prompts you to enter your password, in some Linux operating systems.</blockquote> <p>The device can be mounted simply using the mount command</p> <pre class=language-bash data-lang=bash style=background:#282828;color:#fdf4c1aa><code class=language-bash data-lang=bash><span style=color:#fdf4c1>$ mount /dev/mapper/</span><span style=color:#fe8019><</span><span style=color:#fdf4c1>name</span><span style=color:#fe8019>> <</span><span style=color:#fdf4c1>mountpoint</span><span style=color:#fe8019>>
</span></code></pre> <hr> <h2 id=re-encrypt-the-partition>Re-Encrypt the partition</h2> <p>Here the drive must be unmounted first, then perform a re-encryption using:</p> <pre class=language-bash data-lang=bash style=background:#282828;color:#fdf4c1aa><code class=language-bash data-lang=bash><span style=color:#fdf4c1>$ cryptsetup luksClose /dev/mapper/</span><span style=color:#fe8019><</span><span style=color:#fdf4c1>name</span><span style=color:#fe8019>>
</span></code></pre> <h2 id=changing-the-password-of-the-partition>Changing the Password of the partition</h2> <p>This requires you to know the old password given to the partition.</p> <pre class=language-bash data-lang=bash style=background:#282828;color:#fdf4c1aa><code class=language-bash data-lang=bash><span style=color:#fdf4c1>$ cryptsetup luksChangeKey /dev/sdxY
</span></code></pre> <p class=tagsData><a href=/tags/cryptography>/cryptography/</a> <a href=/tags/linux>/linux/</a> <a href=/tags/filesystem>/filesystem/</a></p> <footer><hr><div class=footContainer><div class=footLeft><p>Nishant Joshi</div><div class=footRight><p>/ĕn″jə-nîr′/</div></div></footer> 